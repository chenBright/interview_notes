# 百度

本文档记录我所参加的百度面试的面试题目

## 百度云CND实习一面

- 自我介绍
- 介绍项目，不同版本之间的区别
- 惊群问题以及解决方案，为什么选择使用锁的解决方案？
- 怎么派发socket fd给从Reactor？
- 怎么唤醒eventloop？（eventfd）如果内核版本低，还有其他方法吗？（pipe）
- epoll 水平触发和边缘触发的区别、优缺点？
- fd在处理之前相应的数据结构被删除，怎么处理？（不太懂题目）后面面试官问项目里epoll的`event.data.ptr`存的什么？（讲了项目里怎么怎么处理Connnection被删除后，Channel的处理）
- 边缘触发模式下，在循环读fd一直到`EAGAIN`时，fd源源不断接受到数据，要怎么处理？（不太懂，说了边缘触发触发的条件，文档和linux下的不同，可以读一段时间，下一次有数据到来再读）
- 第一种模式是一个Reactor负责监听新连接，新连接的处理交给其他Reactor处理。第二种模式是（nginx）多个Reactor都能接受新连接，接受新连接之后自己处理。这两种模式的优缺点？
- 介绍日志系统。生产者竞争锁很激烈，怎么解决？（每个线程一个buffer）消费者怎么知道多少有个线程呢？
- HTTP协议的格式和解析。
- HTTP怎么发文件？（mmap）为什么不用read？（零拷贝的好处）
- 说一下哈希表。扩容开销很大，怎么办？（渐进式rehash）
- 提问环节

## 百度云CDN实习二面

- 自我介绍
- 编程题
  - 找二叉树路径和等于指定值的所有路径
  - 随机洗牌
- extern c
- 怎么实现一个只能在堆上分配的对象？
- 初始化列表的理解，为什么不能在构造函数里面初始化成员变量？
- c++面向对象的理解
- 模板能在cpp文件写实现吗？为什么？
- c和c++编译时的命名不同之处？
- 编译的过程
- 进程和线程的区别？
- 进程、线程共享和私有的资源
- 进程通信方式
- 匿名管道的特点
- 共享内存使用方式
- 共享内存同步方式
- epoll原理
- 执行函数，得到EAGAIN的情况
- 读socket fd，阻塞和非阻塞的区别
- accept发生在TCP那个阶段？
- 半连接队列和全连接队列的区别
- 如果客户端不回第三次握手的报文，怎么办？
- 计网的分层
- tcp首部的字段
- ip首部字段
- 查询DNS的过程、DNS在哪一层、使用什么协议实现、为什么不使用TCP？
- 知道哪些设计模式？说说工厂模式。
- 提问环节

## 百度云CDN实习三面

- 自我介绍
- 详细介绍项目
- 做这个项目的目的
- （项目）多线程版本和多进程版本之间的区别
- 为什么选择socketpair发送文件描述符？（对比了pipe）
- 项目中的一个难点以及解决方案。（std::any的实现）
- 提问环节

## 百度云提前批一面（50min）

- 口述思路：链表成环、链表相交
- 手撕：快排，存在大量相等元素时的优化
- HTTP协议格式、怎么解析
- 惊群、全局锁的实现和处理流程
- shared_ptr原理、enabled_shared_from_this的实现
- tcp三次握手、四次挥手
- 智力题：3、5、8升的杯子（没有刻度），8升的杯子装满水，现使用这三个杯子，倒出4升水
- 提问环节

## 百度云提前批二面（50min）

- 自我介绍
- 介绍项目
- socket编程中bind的作用，客户端可以bind吗？
- 客户端连接已知的服务端，客户端可以开多少连接？（限制：端口号、进程打开文件数量、内存）
- [剑指 Offer 35. 复杂链表的复制](https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/)
- http报文格式
- tcp怎么保证可靠
- 智力题：100本书， 两个人轮流着拿， 一次最多拿5本， 最少拿1本。 你先拿，能拿到最后一本书吗?
- 提问环节

## 百度云提前批三面（50min）

- 自我介绍
- 为什么转专业？这个过程中比较大的困难？
- 实习中比较有成就感的内容？
- 实习的收获
- 有没有遇到沟通不顺畅的情况？
- 学校学习或者工作中，比较大的难点
- 业务访问时，返回错误码，怎么排查问题？
- 自己的模块，qps 有原来的一万多降到一百多，怎么排查问题？
- 怎么查看程序消耗的系统资源？
- 个人的优缺点
- 工作意向城市
- 提问环节